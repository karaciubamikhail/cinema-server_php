# Дипломный проект по профессии «Веб-разработчик»
## Cервер для информационной системы администрирования залов, сеансов и для сайта онлайн бронирования билетов в кинотеатр.
***
## Решенные задачи
* Разработана серверная часть системы для для администрирования залов, сеансов и предварительного бронирования билетов.
* Результат работы содержится в данном git-репозитории.

## Сущности

1. **Кинозал**. Помещение, в котором демонстрируются фильмы. Режим работы определяется расписанием на день. Зал — прямоугольное помещение, состоит из N х M различных зрительских мест.
2. **Зрительское место**. Место в кинозале. Есть два вида: VIP и обычное.
3. **Фильм**. Информация о фильме заполняется администратором. Фильм связан с сеансом в кинозале.
4. **Сеанс**. Временной промежуток, во время которого в кинозале будет показываться фильм. На сеанс могут быть забронированы билеты.
5. **Билет**. QR-код c уникальным кодом бронирования, в котором обязательно указаны место, ряд, сеанс. Билет действителен строго на свой сеанс.

## Роли пользователей системы
* Администратор — авторизованный пользователь.
* Гость — неавторизованный посетитель сайта.

### Возможности администратора
* Создание или редактирование залов.
* Создание или редактирование списка фильмов.
* Настройка цен.
* Создание или редактирование расписания сеансов фильмов.

### Возможности гостя
* Просмотр расписания.
* Просмотр списка фильмов.
* Выбор места в кинозале.
* Бронирование билета на конкретную дату.

## Реализация проекта
* Проект реализован в виде CRUD API на базе Laravel.

## Технологии, использованные в проекте
* PHP 8.1.7.
* Laravel 9.1.10 - фреймворк для создания серверной части приложения.
* Laravel Sanctum - пакет для осуществления аутентификации (Token API). 
* SQLite - СУБД для хранения данных приложения.
* [Phpqrcode](http://phpqrcode.sourceforge.net/) - библиотека для генерации QR-кода.
<p align="center"><a href="https://laravel.com" target="_blank"><img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400"></a></p>

## Инструкция по запуску проекта
1. Клонируйте репозиторий:
   `git clone git@github.com:karaciubamikhail/cinema-server_php.git`
2. Перейдите в каталог проекта: `cd cinema-server_php`
3. Выполнить команду npm i
4. Выполнить команду npm run production
5. Убедитесь, что установлен пакет [Composer](https://getcomposer.org/): `composer -v`
6. Установите зависимости `composer install`
7. Файл `.env.example` переименуйте в `.env`.
8. Выполните команду `php artisan key:generate`
9. В файле `php.ini` раскоментируйте следующие строки:
```
extension=openssl
extension=fileinfo
extension=mbstring
extension=pdo_mysql
extension=mysqli
extension=curl
extension=zip
extension=tokenizer
extension=intl
;extension=pdo_sqlite
```
10. Перейди в папку database:
cd database
11. Создай пустой файл командой PowerShell:
New-Item -ItemType File database.sqlite
12. Вернитесь на уровень назад cd ../
12. Выполните миграции для создания базы данных и заполнения предустановленными значениями: `php artisan migrate:fresh --seed`
13. Для выдачи статики, выполните команду php artisan storage:link
14. Запустите приложение: `php artisan serve`
15. Далее можно использовать приложения [клиента](https://github.com/karaciubamikhail/cinema-client) или [администратора](https://github.com/karaciubamikhail/cinema-server).
